<!DOCTYPE html>
<html>
	<head>
		<title>OpenSeedbox - #{get "title" /}</title>
		#{stylesheet 'bootstrap.min.css' /}
		<link rel="shortcut icon" href="#{asset.url '/images/favicon.ico' /}" />
		#{get "moreStyles" /}
		<script src="https://apis.google.com/js/platform.js" async defer></script>
		<meta name="google-signin-client_id" content="${clientId}">
		#{script 'jquery.min.js' /}
		#{script 'bootstrap.min.js' /}
		#{get "moreScripts" /}
	</head>
	<body>
		<nav id="main-menu" class="navbar navbar-fixed-top bg-light">
			<div class="container">
				<a id="logo" class="navbar-brand" href="@{Client.index()}"><img src="#{asset.url '/images/top-logo.png' /}" /></a>
				<ul class="nav nav-pills">
					#{if (currentUser?.isAdmin())}
						<li class="nav-item"><a class="nav-link #{get 'admin_active' /}" href="@{Admin.index()}">Admin</a></li>
					#{/if}
				</ul>
				<ul class="nav nav-pills justify-content-end">
					#{if (currentUser)}
						<li class="nav-item">
							<a class="nav-link" href="@{Account.index}"><img id="avatar" src="${currentUser.avatarUrl}" /></a>
						</li>
						<li class="nav-item">
							<a class="nav-link #{get 'account_active' /}" href="@{Account.index}">${currentUser.displayName}</a>
						</li>
						<li class="nav-item"><a class="nav-link" href="@{Auth.logout}">Logout</a></li>
					#{/if}
					#{else}
						<li class="nav-item"><a class="nav-link" href="@{Auth.login}">Login</a></li>
					#{/else}
				</ul>
			</div>
		</nav>
		<div id="container" class="container" style="padding-top: 20px;">
			#{if (flash.error)}
			<div id="flash-error" class="alert alert-danger alert-dismissable" role="alert">
				<button type="button" class="btn-close float-end" data-bs-dismiss="alert" aria-label="Close"></button>
				<h4 id="flash-error-heading" class="alert-heading">Error</h4>
				<span class="flash-message-content">
					${flash.error}
				</span>
			</div>
			#{/if}
			#{if (flash.warning)}
			<div id="flash-warning" class="alert alert-warning alert-dismissable" role="alert">
				<button type="button" class="btn-close float-end" data-bs-dismiss="alert" aria-label="Close"></button>
				<h4 id="flash-warning-heading" class="alert-heading">Warning</h4>
				<span class="flash-message-content">
					${flash.warning}
				</span>
			</div>
			#{/if}
			#{if (flash.message)}
			<div id="flash-message" class="alert alert-success alert-dismissable" role="alert">
				<button type="button" class="btn-close float-end" data-bs-dismiss="alert" aria-label="Close"></button>
				<h4 id="flash-success-heading" class="alert-heading">Success:</h4>
				<span class="flash-message-content">
					${flash.message}
				</span>
			</div>
			#{/if}
			<div class="clearfix"></div>
			#{doLayout /}
		</div>
		<style type="text/css">
			#main-menu .nav a {
				line-height: 41px;
			}
			#avatar {
				height: 40px;
				margin-top: -8px;
			}
			#footer {
				margin-top: 40px;
				width: 200px;
				margin-left: auto;
				margin-right: auto;
			}
			.unselectable {
				-moz-user-select: -moz-none;
				-khtml-user-select: none;
				-webkit-user-select: none;
				-ms-user-select: none;
				user-select: none;
			}
		</style>
	</body>
</html>
